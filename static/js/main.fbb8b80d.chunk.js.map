{"version":3,"sources":["hooks/useDarkMode.js","components/Toolbar.jsx","components/Footer.jsx","hooks/useFavorites.js","components/MovieCard.jsx","components/MovieCards.jsx","pages/Favorites.jsx","services/api.js","components/SearchBar.jsx","pages/Home.jsx","hooks/useDebounce.js","Routes.jsx","App.jsx","index.js"],"names":["getPalette","isDarkMode","palette","type","primary","main","appBar","logoText","secondary","useStyles","makeStyles","theme","backgroundColor","root","display","justifyContent","logo","fontWeight","fontFamily","logoLink","textDecoration","color","themeToggle","position","top","bottom","right","useDarkMode","toogleIsDarkMode","classes","AppBar","className","Container","maxWidth","Toolbar","to","Typography","variant","IconButton","onClick","width","left","boxShadow","history","useHistory","location","useLocation","React","useState","value","setValue","useEffect","pathname","BottomNavigation","onChange","event","newValue","push","showLabels","BottomNavigationAction","label","icon","getFavorites","favoritesSaved","localStorage","getItem","JSON","parse","favorites","setFavorites","isMovieFavorite","movie","Boolean","imdbID","setItem","stringify","toogleFavorite","poster","row","flexFlow","alignItems","favoriteButton","padding","favoriteIcon","height","Card","alt","Title","src","Poster","onError","e","target","CardContent","component","Year","gap","movies","useFavorites","isMFavorite","tFavorite","length","map","MovieCard","setMovies","Object","keys","key","MovieCards","axiosInstance","axios","create","baseURL","interceptors","request","use","config","params","process","error","Promise","reject","TextField","InputProps","startAdornment","InputAdornment","paddingTop","searchBar","search","setSearch","page","setPage","total","setTotal","loadMoreRef","useRef","debouncedSearch","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","trim","api","get","s","then","res","data","Error","Search","parseInt","totalResults","observer","IntersectionObserver","entities","isIntersecting","old","rootMargin","threshold","current","observe","SearchBar","ref","flexGrow","paddingBottom","exact","path","Home","Favorites","Footer","savedMode","prefersDarkMode","useMediaQuery","noSsr","defaultTheme","setIsDarkMode","useMemo","createTheme","ThemeProvider","CssBaseline","Routes","ReactDOM","render","StrictMode","App","document","getElementById"],"mappings":"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","file":"static/js/main.fbb8b80d.chunk.js","sourcesContent":["import { useState } from \"react\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\nconst getPalette = (isDarkMode) => ({\n  palette: {\n    type: isDarkMode ? \"dark\" : \"light\",\n    ...(isDarkMode\n      ? {\n          primary: {\n            main: \"#FF9E10\",\n            appBar: \"#424242\",\n            logoText: \"#FF9E10\",\n          },\n          secondary: {\n            main: \"#FF9E10\",\n          },\n        }\n      : {\n          primary: {\n            main: \"#FF9E10\",\n            appBar: \"#FF9E10\",\n            logoText: \"#FFF\",\n          },\n          secondary: {\n            main: \"#FF9E10\",\n          },\n        }),\n  },\n});\n\nexport default () => {\n  const savedMode = localStorage.getItem(\"theme\");\n  const prefersDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\", {\n    noSsr: true,\n  });\n  const defaultTheme =\n    (savedMode !== null && savedMode) || (prefersDarkMode && \"dark\") || \"light\";\n  const [isDarkMode, setIsDarkMode] = useState(defaultTheme === \"dark\");\n\n  const toogleIsDarkMode = () => {\n    setIsDarkMode(!isDarkMode);\n    localStorage.setItem(\"theme\", !isDarkMode ? \"dark\" : \"light\");\n  };\n\n  return { isDarkMode, toogleIsDarkMode, getPalette };\n};\n","import React from \"react\";\nimport { AppBar, Toolbar, Typography, Container } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Link } from \"react-router-dom\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Brightness3Icon from \"@material-ui/icons/Brightness3\";\nimport Brightness7Icon from \"@material-ui/icons/Brightness7\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    backgroundColor: theme.palette.primary.appBar,\n  },\n  root: {\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  logo: {\n    fontWeight: \"bold\",\n    fontFamily: \"Arvo\",\n  },\n  logoLink: {\n    textDecoration: \"none\",\n    color: theme.palette.primary.logoText,\n  },\n  themeToggle: {\n    position: \"absolute\",\n    top: \"7px\",\n    bottom: \"7px\",\n    right: \"5px\",\n  },\n}));\n\nexport default ({ useDarkMode }) => {\n  const { isDarkMode, toogleIsDarkMode } = useDarkMode;\n  const classes = useStyles();\n\n  return (\n    <AppBar position=\"sticky\" className={classes.appBar}>\n      <Container maxWidth=\"md\">\n        <Toolbar className={classes.root}>\n          <Link to=\"/\" className={classes.logoLink}>\n            <Typography variant=\"h4\" className={classes.logo}>\n              Cinema APP\n            </Typography>\n          </Link>\n        </Toolbar>\n      </Container>\n      <IconButton className={classes.themeToggle} onClick={toogleIsDarkMode}>\n        {isDarkMode ? (\n          <Brightness3Icon color=\"primary\" />\n        ) : (\n          <Brightness7Icon className={classes.logoLink} />\n        )}\n      </IconButton>\n    </AppBar>\n  );\n};\n","import React, { useEffect } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport SearchIcon from '@material-ui/icons/Search';\nimport StarIcon from '@material-ui/icons/Star';\n\nconst useStyles = makeStyles({\n  root: {\n    width: '100%',\n    position: 'fixed',\n    left: 0,\n    bottom: 0,\n    boxShadow: '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)'\n  },\n});\n\nexport default () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const location = useLocation();\n  const [value, setValue] = React.useState('/');\n\n  useEffect(() => {\n    if (location.pathname === \"/favoritos\") {\n      setValue(\"/favoritos\");\n    } else {\n      setValue(\"/\");\n    }\n  }, [location]);\n\n  return (\n    <BottomNavigation\n      className={classes.root}\n      value={value}\n      onChange={(event, newValue) => {\n        history.push(newValue);\n      }}\n      showLabels\n    >\n      <BottomNavigationAction label=\"Buscar\" value=\"/\" icon={<SearchIcon />} />\n      <BottomNavigationAction label=\"Favoritos\" value=\"/favoritos\" icon={<StarIcon />} />\n    </BottomNavigation>\n  );\n}","import { useState, useEffect } from \"react\";\n\nconst getFavorites = () => {\n  const favoritesSaved = localStorage.getItem('favorites');\n  if (!favoritesSaved) return {};\n  return JSON.parse(favoritesSaved);\n}\n\nexport default () => {\n  const [favorites, setFavorites] = useState(() => getFavorites());\n\n  const isMovieFavorite = (movie) => {\n    return Boolean(favorites[movie.imdbID]);\n  }\n\n  const toogleFavorite = (movie) => {\n    const favoritesSaved = getFavorites();\n    if (isMovieFavorite(movie)) {\n      delete favoritesSaved[movie.imdbID];\n    } else {\n      favoritesSaved[movie.imdbID] = movie;\n    }\n    setFavorites(favoritesSaved);\n  }\n\n  useEffect(() => {\n    localStorage.setItem('favorites', JSON.stringify(favorites));\n  }, [favorites])\n\n  return { isMovieFavorite, toogleFavorite, favorites };\n}","import React from 'react';\nimport { Card, CardContent, IconButton, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport StarIcon from '@material-ui/icons/Star';\nimport StartOutlineIcon from '@material-ui/icons/StarOutline'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '300px'\n  },\n  poster: {\n    width: '100%'\n  },\n  row: {\n    display: 'flex',\n    flexFlow: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  favoriteButton: {\n    padding: '0.5rem'\n  },\n  favoriteIcon: {\n    width: 38,\n    height: 38\n  }\n}));\n\nexport default ({ movie, isMovieFavorite, toogleFavorite }) => {\n  const classes = useStyles();\n  return (\n    <Card className={classes.root}>\n      <img \n        className={classes.poster}\n        alt={movie.Title}\n        src={movie.Poster} \n        onError={e => e.target.src='https://via.placeholder.com/300x300.png/fff/FF9E10?text=Poster+n%C3%A3o+encontrado!'}\n      />\n      <CardContent>\n        <Typography variant=\"h5\" component=\"h2\">\n          {movie.Title}\n        </Typography>\n        <div className={classes.row}>\n          <Typography variant=\"h6\" component=\"h2\">\n            {movie.Year}\n          </Typography>\n          <IconButton className={classes.favoriteButton} onClick={() => toogleFavorite(movie)}>\n            {isMovieFavorite(movie) ? <StarIcon className={classes.favoriteIcon} color=\"primary\"/>\n            : <StartOutlineIcon className={classes.favoriteIcon} color=\"primary\"/>}\n          </IconButton>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MovieCard from '../components/MovieCard';\nimport useFavorites from '../hooks/useFavorites';\nimport { Typography } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexFlow: 'row wrap',\n    justifyContent: 'space-evenly',\n    alignItems: 'flex-start',\n    gap: '2em',\n    padding: '2em'\n  },\n}));\n\nexport default ({ movies, isMovieFavorite = null, toogleFavorite = null}) => {\n  const classes = useStyles();\n\n  const { isMovieFavorite: isMFavorite, toogleFavorite: tFavorite } = useFavorites();\n\n  return (\n    <main className={classes.root}>\n      {!movies.length && <Typography variant=\"h5\" component=\"h2\">Nenhum resultado encontrado.</Typography>}\n      {movies.map(movie => <MovieCard key={movie.imdbID} movie={movie} isMovieFavorite={isMovieFavorite || isMFavorite} toogleFavorite={toogleFavorite || tFavorite}/>)}\n    </main>\n  );\n}","import React, { useEffect, useState } from 'react';\nimport useFavorites from '../hooks/useFavorites';\nimport MovieCards from '../components/MovieCards';\n\nexport default () => {\n  const [movies, setMovies] = useState([]);\n  const { isMovieFavorite, toogleFavorite, favorites } = useFavorites();\n\n  useEffect(() => {\n    setMovies(Object.keys(favorites).map(key => favorites[key]));\n  }, [favorites]);\n\n  return (\n    <MovieCards movies={movies} isMovieFavorite={isMovieFavorite} toogleFavorite={toogleFavorite}/>\n  );\n}","import axios from 'axios';\n\nconst axiosInstance = axios.create({\n    baseURL: 'https://www.omdbapi.com/',\n});\n\naxiosInstance.interceptors.request.use((config) => {\n    config.params = config.params || {};\n    config.params['apikey'] = process.env.REACT_APP_API_KEY;\n    return config;\n  }, (error) => {\n    return Promise.reject(error);\n  });\n\nexport default axiosInstance;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { InputAdornment, TextField } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '90%',\n    maxWidth: '600px',\n  }\n}));\n\nexport default ({ onChange }) => {\n  const classes = useStyles();\n  return (\n    <TextField\n        className={classes.root}\n        label=\"Buscar\"\n        variant=\"outlined\"\n        onChange={onChange}\n        InputProps={{\n          startAdornment: (\n            <InputAdornment position=\"start\">\n              <SearchIcon color=\"primary\" />\n            </InputAdornment>\n          ),\n        }}\n      />\n  );\n}","import React, { useEffect, useState, useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport api from '../services/api';\nimport MovieCards from '../components/MovieCards';\nimport useDebounce from '../hooks/useDebounce';\nimport SearchBar from '../components/SearchBar';\nimport { Typography } from '@material-ui/core';\n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexFlow: 'column',\n    alignItems: 'center',\n    paddingTop: '2em'\n  },\n  searchBar: {\n    width: '90%',\n    maxWidth: '600px',\n  }\n}));\n\nexport default () => {\n  const classes = useStyles();\n  const [movies, setMovies] = useState([]);\n  const [search, setSearch] = useState('');\n  const [page, setPage] = useState(1);\n  const [total, setTotal] = useState(0);\n  const loadMoreRef = useRef(null);\n  const debouncedSearch = useDebounce(search, 1000);\n\n  useEffect(() => {\n    if (debouncedSearch.trim()) {\n      api.get('',{\n        params: {\n          s: debouncedSearch,\n        }\n      }).then((res) => {\n        setPage(1);\n        if (!res.data.Error) {\n          setMovies(res.data.Search);\n          setTotal(parseInt(res.data.totalResults));\n        } else {\n          setMovies([]);\n        }\n      });\n    } else {\n      setMovies([]);\n      setTotal(0);\n      setPage(1);\n    }\n  }, [debouncedSearch]);\n\n  useEffect(() => {\n    const options = {\n      root: null,\n      rootMargin: \"20px\",\n      threshold: 1.0\n    };\n\n    const observer = new IntersectionObserver((entities) => {\n      const target = entities[0];\n\n      if (target.isIntersecting) {\n        setPage(old => old + 1);\n      }\n    }, options);\n\n    if (loadMoreRef.current) {\n      observer.observe(loadMoreRef.current);\n    }\n  }, [])\n\n  useEffect(() => {\n    if (page > 1 && (movies.length < total))\n      api.get('',{\n        params: {\n          s: search,\n          page: page,\n        }\n      }).then((res) => {\n        if (!res.data.Error) {\n          setMovies([...movies, ...res.data.Search]);\n          setTotal(parseInt(res.data.totalResults));\n        } else {\n          setMovies([]);\n          setTotal(0);\n          setPage(1);\n        }\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [page])\n\n  return (\n    <div className={classes.root}>\n      <SearchBar onChange={(e) => setSearch(e.target.value)} />\n      <MovieCards movies={movies}/>\n      <Typography ref={loadMoreRef} variant=\"h6\" component=\"h2\">{(movies.length < total) && 'Carregando mais resultados...'}</Typography>\n    </div>\n  );\n}","import { useEffect, useState } from 'react';\n\nexport default (value, delay) => {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n  useEffect(\n    () => {\n      const handler = setTimeout(() => {\n        setDebouncedValue(value);\n      }, delay);\n      return () => {\n        clearTimeout(handler);\n      };\n    },\n    [value, delay]\n  );\n  return debouncedValue;\n}","import React from \"react\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Toolbar from \"./components/Toolbar\";\nimport Footer from \"./components/Footer\";\nimport Favorites from \"./pages/Favorites\";\nimport Home from \"./pages/Home\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    paddingBottom: \"56px\",\n  },\n}));\n\nexport default ({ useDarkMode }) => {\n  const classes = useStyles();\n\n  return (\n    <Router>\n      <Toolbar useDarkMode={useDarkMode} />\n      <Container maxWidth=\"md\" className={classes.root}>\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route path=\"/favoritos\">\n            <Favorites />\n          </Route>\n        </Switch>\n      </Container>\n      <Footer />\n    </Router>\n  );\n};\n","import React from \"react\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { createTheme } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport useDarkMode from \"./hooks/useDarkMode\";\nimport Routes from \"./Routes\";\n\nexport default () => {\n  const { isDarkMode, getPalette, toogleIsDarkMode } = useDarkMode();\n  const theme = React.useMemo(\n    () => createTheme(getPalette(isDarkMode)),\n    [isDarkMode, getPalette]\n  );\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Routes useDarkMode={{ isDarkMode, toogleIsDarkMode }} />\n    </ThemeProvider>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}